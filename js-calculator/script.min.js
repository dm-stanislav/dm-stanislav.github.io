"use strict";const submit=document.querySelector("#btn-equ"),clean=document.querySelector("#btn-cln"),result=document.querySelector(".calc__result"),calcBody=document.querySelector(".calc__body");let newResult,isCalculated=!1;const calcOperators=["+","-","÷","×"];calcBody.addEventListener("click",e=>{if(e.target===clean&&(result.value="",isCalculated=!1),e.target.classList.contains("calc__btn")&&e.target!==submit&&e.target!==clean&&(e.target.classList.contains("calc__op")&&e.target!==submit&&""===result.value&&(result.value="0"),isCalculated&&(result.value="",e.target.classList.contains("calc__op")&&e.target!==submit&&(result.value="0"),isCalculated=!1),calcOperators.includes(result.value[result.value.length-1])&&e.target.classList.contains("calc__op")&&e.target!==submit&&(result.value=result.value.substring(0,result.value.length-1)),result.value+=e.target.textContent),e.target===submit){newResult=result.value.replace(/÷/g,"/").replace(/×/g,"*");try{eval(newResult)}catch(e){if(e instanceof SyntaxError)return result.value="NaN",void(isCalculated=!0)}if(Number.isInteger(eval(newResult)))result.value=eval(newResult);else{let floatResult=eval(newResult).toFixed(6);result.value=parseFloat(floatResult)}isFinite(result.value)||(isCalculated=!0)}});