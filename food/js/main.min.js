"use strict";var moveElements=document.querySelectorAll("[data-move]");function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function setBackground(){for(var e=document.querySelectorAll("._bg"),t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}function userSwiped(){document.addEventListener("touchstart",function(n){var r=function(e){return e.touches||e.originalEvent.touches}(n)[0];t=r.clientX,e=r.clientY}),document.addEventListener("touchmove",function(n){if(!t||!e)return;var r=n.touches[0].clientX,a=n.touches[0].clientY,o=t-r,i=e-a;Math.abs(o)>Math.abs(i)&&(o>0||document.querySelector(".wrapper").classList.contains("_menu")&&closeMenu());t=null,e=null});var e=null,t=null}function openMenu(){document.querySelector(".menu-icon").classList.add("_active"),document.querySelector(".menu__body").classList.add("_active"),document.querySelector(".wrapper").classList.add("_menu")}function closeMenu(){document.querySelector(".menu-icon").classList.remove("_active"),document.querySelector(".menu__body").classList.remove("_active"),document.querySelector(".wrapper").classList.remove("_menu")}moveElements.length>0&&function(){for(var e=function(){for(var e=0;e<r.length;e++){var n=r[e],o=n.element,i=n.destination,c=n.place;a[e].matches?o.classList.contains("_moved")||(i.children[c-1]?i.insertBefore(o,i.children[c-1]):i.append(o),o.classList.add("_moved")):(t(o),o.classList.remove("_moved"))}},t=function(e){for(var t=0;t<n.length;t++){var r=n[t];if(r.element===e){var a=r.index,o=r.parent;o.children[a]?o.insertBefore(e,o.children[a]):o.append(e)}}},n=[],r=[],a=[],o=0;o<moveElements.length;o++){var i=moveElements[o],c=i.getAttribute("data-move");if(c){var l=c.split(","),s=isNaN(+l[0].trim())?767.98:+l[0].trim(),u=document.querySelector("".concat(l[1].trim())),d=isNaN(l[2].trim())?1:l[2].trim(),m="max"===l[3]||"min"===l[3]?l[3]:"max";u&&l.length>0&&r.push({element:i,breakpoint:s,destination:u,place:d,type:m})}}r.sort(function(e,t){return e.place>t.place?1:-1});for(var f=0;f<moveElements.length;f++){for(var v=moveElements[f],g=v.parentNode,p=void 0,h=0;h<g.children.length;h++){g.children[h]===v&&(p=h)}n.push({element:v,parent:g,index:p})}for(var w=0;w<r.length;w++){var _=r[w],y=_.type,L=_.breakpoint,S=window.matchMedia("(".concat(y,"-width: ").concat(L,"px)"));S.addEventListener("change",function(){return e()}),a.push(S)}e()}(),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("form");if(!(e.length<=0))for(var t=function(t){var n=e[t];function r(e){e.classList.add("_error")}function a(e){e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function i(e){return!/^\+[1-9]{1}[0-9]{3,14}$/.test(e.value)}n.addEventListener("submit",function(e){if(e.preventDefault(),0!==function(e){for(var t=0,n=e.querySelectorAll("._req"),c=0;c<n.length;c++){var l=n[c];a(l.parentElement),l.parentElement.classList.contains("_email")?o(l)&&(r(l.parentElement),t++):l.parentElement.classList.contains("_tel")?i(l)&&(r(l.parentElement),t++):""===l.value&&(r(l.parentElement),t++)}for(var s=e.querySelectorAll("._req-check"),u=0;u<s.length;u++){var d=s[u];a(d);for(var m=d.querySelectorAll("input"),f=0,v=0;v<m.length;v++){var g=m[v];g.checked&&f++}f||(r(d),t++)}return t}(n))return!1;n.submit()});for(var c=n.querySelectorAll("._img-file"),l=function(e){var t=c[e],n=t.querySelector("._img-preview"),r=t.querySelector("input");if(n){r.addEventListener("change",function(){!function(e){if(!["image/jpeg","image/png","image/gif"].includes(e.type))return alert("Invalid file extension."),void(c.value="");if(e.size>2097152)return alert("ERROR: maximum file size is 2 MB"),void(c.value="");var t=new FileReader;t.onload=function(e){n.innerHTML='<img src="'.concat(e.target.result,'" alt="Uploaded picture">')},t.onerror=function(e){alert("ERROR")},t.readAsDataURL(e)}(r.files[0])})}},s=0;s<c.length;s++)l(s)},n=0;n<e.length;n++)t(n)}),function(){var e=.6,t=!0,n=document.querySelectorAll("._animate");function r(){for(var r=0;r<n.length;r++){var o=n[r],i=o.offsetHeight,c=a(o).top,l=1/e,s=window.innerHeight-i/l;i>window.innerHeight&&(s=window.innerHeight-window.innerHeight/l),pageYOffset>c-s?o.classList.add("_animated"):t||o.classList.remove("_animated")}}function a(e){for(var t=0,n=0;e;)t+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{top:t,left:n}}0!==n.length&&(window.addEventListener("scroll",r),setTimeout(function(){return r()},350))}(),testWebP(function(e){1==e&&document.querySelector("body").classList.add("webp")}),setBackground(),userSwiped(),document.querySelector(".menu-icon").addEventListener("click",function(){document.querySelector(".wrapper").classList.contains("_menu")?closeMenu():openMenu()});var showcaseScene=document.querySelector(".vegetables__parallax"),showcaseParallax=new Parallax(showcaseScene),formScene=document.querySelector(".call__vegetables"),formParallax=new Parallax(formScene);!function(){var e=document.querySelector(".showcase .pizza"),t=document.querySelectorAll(".offers"),n=document.querySelectorAll(".showcase .offers__item");0!==t.length&&e.addEventListener("click",function(e){if(e.target.closest(".offers__icon"))if(e.target.closest(".offers__item").classList.contains("_active"))e.target.closest(".offers__item").classList.remove("_active");else{for(var t=0;t<n.length;t++){var r=n[t];r.classList.remove("_active")}e.target.closest(".offers__item").classList.add("_active")}})}(),function(){var e=document.querySelectorAll(".tabs");if(0!==e.length)for(var t=function(t){var n=e[t];n.addEventListener("click",function(e){var t=e.target.closest(".tabs__heading");if(t){var n=t.dataset.tab;!function(){for(var e=0;e<r.length;e++){var t=r[e];t.classList.remove("_active")}for(var n=0;n<a.length;n++){var o=a[n];o.classList.remove("_active")}}(),function(e,t){for(var n=0;n<r.length;n++){var a=r[n];a.classList.contains(e)&&(a.classList.add("_active"),t.classList.add("_active"))}}(n,t)}});var r=n.querySelectorAll(".tabs__content"),a=n.querySelectorAll(".tabs__heading")},n=0;n<e.length;n++)t(n)}();var gallery=new Swiper("#gallery-slider",{loop:!0,autoplay:{delay:3e3},speed:700,breakpoints:{0:{slidesPerView:1,spaceBetween:0},576:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},890:{slidesPerView:4,spaceBetween:25},992:{slidesPerView:5,spaceBetween:30},1160:{slidesPerView:5,spaceBetween:40}}});!function(){var e,t=window.pageYOffset||document.documentElement.scrollTop,n=!0,r=document.querySelector("header");function a(){var a=window.pageYOffset||document.documentElement.scrollTop;if(window.pageYOffset>10)if(e=window.getComputedStyle(r).getPropertyValue("animation-duration"),e=1e3*parseFloat(e),a<t){if(!n)return;n=!1,r.classList.add("_shrinked"),r.style.animationName="headerIn",setTimeout(function(){return n=!0},e)}else{if(!n)return;n=!1,r.style.animationName="headerOut",setTimeout(function(){r.classList.remove("_shrinked"),n=!0},e)}else e=window.getComputedStyle(r).getPropertyValue("animation-duration"),e=1e3*parseFloat(e),setTimeout(function(){r.classList.remove("_shrinked")},e);t=a<=0?0:a}window.addEventListener("scroll",a,!1),a()}();
